<Window x:Class="OSRSCombatSim.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OSRS Combat Simulator"
        WindowState="Maximized"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <!-- Fullscreen background image -->
        <Image Source="Assets/Inventory.png"
               Stretch="Fill"
               Panel.ZIndex="0" />

        <!-- Main UI layered above background -->
        <Grid Margin="10" Panel.ZIndex="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <!-- Player Panel -->
            <StackPanel Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top">
                <TextBlock x:Name="PlayerName" Foreground="White" FontWeight="Bold" FontSize="16"
                           Text="Player" HorizontalAlignment="Center" Margin="0,0,0,5" />
                <ProgressBar x:Name="PlayerHealthBar" Width="120" Height="20" Maximum="100"
                             Foreground="LimeGreen" Margin="0,0,0,5" />
                <TextBlock x:Name="PlayerHPText" Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,10" />

                <!-- Attack Style Selector -->
                <ComboBox x:Name="AttackStyleSelector" Width="120" Margin="0,10,0,0" />
            </StackPanel>

            <!-- Monster Panel -->
            <StackPanel Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Top">
                <TextBlock x:Name="MonsterName" Foreground="White" FontWeight="Bold" FontSize="16"
                           Text="Monster" HorizontalAlignment="Center" Margin="0,0,0,5" />
                <ProgressBar x:Name="MonsterHealthBar" Width="120" Height="20" Maximum="100"
                             Foreground="OrangeRed" Margin="0,0,0,5" />
                <TextBlock x:Name="MonsterHPText" Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,10" />
            </StackPanel>

            <!-- Center canvas for player/monster squares and projectiles -->
            <Canvas x:Name="GameCanvas" Grid.ColumnSpan="2"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    Width="500" Height="150" IsHitTestVisible="False">
                <!-- Player square -->
                <Border x:Name="PlayerSquare"
                        Width="120" Height="120"
                        Background="DarkBlue" CornerRadius="10"
                        Canvas.Left="50" Canvas.Top="15" />

                <!-- Monster square -->
                <Border x:Name="MonsterSquare"
                        Width="120" Height="120"
                        Background="DarkRed" CornerRadius="10"
                        Canvas.Left="330" Canvas.Top="15"
                        MouseDown="MonsterSquare_MouseDown" />
            </Canvas>

            <!-- Hit Splat Canvas layered above GameCanvas -->
            <Canvas x:Name="HitSplatCanvas" Grid.ColumnSpan="2"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    Width="500" Height="150" IsHitTestVisible="False" />

            <Button x:Name="StartAutoBattleButton"
        Content="Start Auto Battle"
        Width="120" Height="30"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        Margin="340,47,0,0"
        Click="StartAutoBattleButton_Click"
        Grid.ColumnSpan="2" />

            <!-- Auto Battle Toggle -->
            <ToggleButton x:Name="AutoBattleToggle"
                          Content="Auto Battle"
                          Width="100" Height="30"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Top"
                          Margin="0,10,0,0"
                          Checked="AutoBattleToggle_Checked"
                          Unchecked="AutoBattleToggle_Unchecked"
                          Grid.ColumnSpan="2" />
        </Grid>

        <!-- Combat Log Box Bottom Left -->
        <TextBox x:Name="CombatLogTextBox"
                 Width="300" Height="150"
                 VerticalAlignment="Bottom"
                 HorizontalAlignment="Left"
                 Margin="10"
                 TextWrapping="Wrap"
                 IsReadOnly="True"
                 VerticalScrollBarVisibility="Auto"
                 Panel.ZIndex="2" />
    </Grid>
</Window>